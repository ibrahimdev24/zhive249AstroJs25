---
---

<form id="contact-form" class="space-y-6">
  <div>
    <label for="name" class="block text-sm font-medium text-gray-200">Name</label>
    <input
      type="text"
      id="name"
      name="name"
      required
      class="mt-1 block w-full rounded-md border border-gray-700 bg-navy-800 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm px-4 py-2 text-white"
    />
  </div>

  <div>
    <label for="email" class="block text-sm font-medium text-gray-200">Email</label>
    <input
      type="email"
      id="email"
      name="email"
      required
      class="mt-1 block w-full rounded-md border border-gray-700 bg-navy-800 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm px-4 py-2 text-white"
    />
  </div>

  <div>
    <label for="message" class="block text-sm font-medium text-gray-200">Message</label>
    <textarea
      id="message"
      name="message"
      rows="4"
      required
      class="mt-1 block w-full rounded-md border border-gray-700 bg-navy-800 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm px-4 py-2 text-white"
    ></textarea>
  </div>

  <div>
    <button
      type="submit"
      class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"
    >
      Send Message
    </button>
  </div>

  <div id="form-status" class="hidden">
    <p id="success-message" class="text-green-500 hidden">Message sent successfully!</p>
    <p id="error-message" class="text-red-500 hidden">Failed to send message. Please try again.</p>
  </div>
</form>

<script>
  const form = document.getElementById('contact-form') as HTMLFormElement;
  const formStatus = document.getElementById('form-status') as HTMLDivElement;
  const successMessage = document.getElementById('success-message') as HTMLParagraphElement;
  const errorMessage = document.getElementById('error-message') as HTMLParagraphElement;

  if (form) {
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const formData = new FormData(form);
      const data = {
        name: formData.get('name'),
        email: formData.get('email'),
        message: formData.get('message'),
      };

      try {
        const response = await fetch('/api/contact', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data),
        });

        formStatus.classList.remove('hidden');
        
        if (response.ok) {
          // Show success message
          successMessage.classList.remove('hidden');
          errorMessage.classList.add('hidden');
          form.reset();
        } else {
          // Show error message
          successMessage.classList.add('hidden');
          errorMessage.classList.remove('hidden');
        }
      } catch (error) {
        // Show error message
        formStatus.classList.remove('hidden');
        successMessage.classList.add('hidden');
        errorMessage.classList.remove('hidden');
      }
    });
  }
</script>
